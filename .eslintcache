[{"/home/sxxgrc/UIUC/Fall2020/CS410/Projects/faculty-scraper/src/index.js":"1","/home/sxxgrc/UIUC/Fall2020/CS410/Projects/faculty-scraper/src/reportWebVitals.js":"2","/home/sxxgrc/UIUC/Fall2020/CS410/Projects/faculty-scraper/src/faculty_scraper.js":"3","/home/sxxgrc/UIUC/Fall2020/CS410/Projects/faculty-scraper/src/results.js":"4"},{"size":515,"mtime":1607592934414,"results":"5","hashOfConfig":"6"},{"size":362,"mtime":1607342717390,"results":"7","hashOfConfig":"6"},{"size":4037,"mtime":1607591119604,"results":"8","hashOfConfig":"6"},{"size":739,"mtime":1607590406414,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"1y6nsw4",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"15"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"12"},"/home/sxxgrc/UIUC/Fall2020/CS410/Projects/faculty-scraper/src/index.js",[],["22","23"],"/home/sxxgrc/UIUC/Fall2020/CS410/Projects/faculty-scraper/src/reportWebVitals.js",[],["24","25"],"/home/sxxgrc/UIUC/Fall2020/CS410/Projects/faculty-scraper/src/faculty_scraper.js",["26","27","28","29"],"import React from 'react';\nimport './faculty_scraper.css';\nimport { FaSearch } from 'react-icons/fa';\nimport { Puff } from '@agney/react-loading';\n\nclass FacultySearchBox extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            url: '',\n            loading: false\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.sendRequest = this.sendRequest.bind(this);\n    }\n\n    handleChange(event) {\n        this.setState({ url: event.target.value });\n        var urlString = String(event.target.value).replace(/\\/$/, \"\")\n        if (this.validateUrl(urlString)) {\n            document.getElementById(\"input\").setCustomValidity(\"Invalid URL: Make sure you are providing a valid university URL (starts with http(s):// and ends with .edu).\");\n            return;\n        }\n        document.getElementById(\"input\").setCustomValidity(\"\");\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n\n        // Do nothing if already loading something.\n        if (this.state.loading)\n            return;\n\n        // Want to accept only URls that end in .edu ignoring trailing /s.\n        var urlString = String(this.state.url).replace(/\\/$/, \"\")\n        if (this.validateUrl(urlString)) {\n            console.log(\"Invalid URL.\");\n            return;\n        }\n        this.setState({loading: true});\n\n        // Send the request and start polling.\n        this.sendRequest()\n    }\n\n    validateUrl(urlString) {\n        return !urlString.endsWith('.edu') || !/^[a-zA-Z:\\/\\.]+$/.test(urlString) ||\n            (!urlString.startsWith('http://www.') && !urlString.startsWith('https://www.'));\n    }\n\n    sendRequest() {\n        // Send request to flask with the URL.\n        const requestOptions = {\n            method: 'POST',\n            mode: \"cors\",\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ url: this.state.url })\n        };\n\n        fetch('https://facultyscraper-heroku.herokuapp.com/', requestOptions)\n            .then(response => {\n                if (response.ok)\n                    return response.json();\n                else\n                    throw new Error(\"Bad response!\");\n            })\n            .then(data => {\n                if (data[\"result\"]) {\n                    this.setState({ loading: false, url: \"\" });\n\n                    // Don't go to results page if nothing to display.\n                    if (data[\"urls\"].length == 0) {\n                        document.getElementById(\"input\").setCustomValidity(\"Failed to get results! Check URL and make sure it is correct. Maybe try with/without the www.\");\n                    }\n\n                    this.props.history.push({ pathname: \"/results\", data: data[\"urls\"] });\n                } else {\n                    setTimeout(this.sendRequest, 10000);\n                }\n            })\n            .catch((_error) => {\n                this.setState({ loading: false });\n                document.getElementById(\"input\").setCustomValidity(\"Invalid URL! Try another variation of this URL and make sure it is accessible!\");\n            });\n    }\n\n    render() {\n        if (document.title != \"Faculty Scraper\") {\n            document.title = \"Faculty Scraper\";\n        }\n\n        return [\n            <h1 className=\"title\">Faculty Scraper</h1>,\n            <form onSubmit={this.handleSubmit} className=\"wrap\">\n                <label className=\"scrape\">\n                    <input autoFocus type=\"text\" id=\"input\" value={this.state.url} onChange={this.handleChange} placeholder=\"Input a university URL (e.g. https://www.illinois.edu)\" className=\"scrapeBar\" />\n                    <button type=\"submit\" className=\"scrapeButton\">\n                        {\n                            this.state.loading ? <Puff /> : <FaSearch />\n                        }\n                    </button>\n                </label>\n            </form>\n        ];\n    }\n}\n\nexport default FacultySearchBox;\n","/home/sxxgrc/UIUC/Fall2020/CS410/Projects/faculty-scraper/src/results.js",["30","31"],"import React from \"react\";\nimport './results.css';\n\nclass Results extends React.Component {\n    render() {\n        const { data } = this.props.location;\n\n        if (document.title != \"Results\") {\n            document.title = \"Results\";\n        }\n\n        if (data == null) {\n            return (\n                <h1 className=\"error\">Error, no results present!</h1>\n            );\n        }\n\n        return ([\n            <h1 className=\"listTitle\">Faculty Scraper</h1>,\n            <hr className=\"listBar\"></hr>,\n            <div className=\"list\">\n                {data.map(item => (<li className=\"listItem\"><a href={item} target=\"_blank\" className=\"url\">{item}</a></li>))}\n            </div>\n        ]);\n    }\n}\n\nexport default Results;\n",{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","replacedBy":"35"},{"ruleId":"32","replacedBy":"36"},{"ruleId":"34","replacedBy":"37"},{"ruleId":"38","severity":1,"message":"39","line":49,"column":58,"nodeType":"40","messageId":"41","endLine":49,"endColumn":59,"suggestions":"42"},{"ruleId":"38","severity":1,"message":"43","line":49,"column":60,"nodeType":"40","messageId":"41","endLine":49,"endColumn":61,"suggestions":"44"},{"ruleId":"45","severity":1,"message":"46","line":74,"column":45,"nodeType":"47","messageId":"48","endLine":74,"endColumn":47},{"ruleId":"45","severity":1,"message":"49","line":90,"column":28,"nodeType":"47","messageId":"48","endLine":90,"endColumn":30},{"ruleId":"45","severity":1,"message":"49","line":8,"column":28,"nodeType":"47","messageId":"48","endLine":8,"endColumn":30},{"ruleId":"50","severity":1,"message":"51","line":22,"column":76,"nodeType":"52","endLine":22,"endColumn":91},"no-native-reassign",["53"],"no-negated-in-lhs",["54"],["53"],["54"],"no-useless-escape","Unnecessary escape character: \\/.","Literal","unnecessaryEscape",["55","56"],"Unnecessary escape character: \\..",["57","58"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","no-global-assign","no-unsafe-negation",{"messageId":"59","fix":"60","desc":"61"},{"messageId":"62","fix":"63","desc":"64"},{"messageId":"59","fix":"65","desc":"61"},{"messageId":"62","fix":"66","desc":"64"},"removeEscape",{"range":"67","text":"68"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"69","text":"70"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"71","text":"68"},{"range":"72","text":"70"},[1601,1602],"",[1601,1601],"\\",[1603,1604],[1603,1603]]